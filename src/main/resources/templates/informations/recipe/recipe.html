<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <title>Ricetta</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <link href="/css/responsive.css" rel="stylesheet" />
  <style>
    /* Stile personalizzato per giustificare il testo */
    .procedure-text {
      text-align: justify;
    }

    .table {
      width: 50%;
      border-radius: 20px;
    }
  </style>
</head>
<body>

      <header th:replace="fragments/layout.html :: navMenu"></header>

      <div class="container mt-4">
        <h2 class="text-center mb-4">Dettaglio Ricetta</h2>
        <hr class="purple-line my-4">

        <!-- Informazioni della ricetta -->
        <div class="row">
          <div class="col-md-8 offset-md-2">
            <h3 th:text="${recipe.title}" class="text-center mb-3"></h3>
            <p><strong>Categoria:</strong> <span th:text="${recipe.category.title}"></span></p>
            <p><strong>Descrizione:</strong> <span th:text="${recipe.description}"></span></p>
            <p><strong>Tempo di preparazione:</strong> <span th:text="${recipe.time}"></span> minuti</p>
            <p><strong>Livello:</strong> <span th:text="${recipe.level}"></span></p>
            <p><strong>Autore:</strong> <span th:text="${recipe.user.name + ' ' + recipe.user.surname}"></span></p>

            <!-- Immagine della ricetta -->
            <img th:if="${recipe.img == 'profili'}" src="/images/ricette/recipe.png" class="img-fluid rounded mx-auto d-block mt-4" alt="Immagine della ricetta">
            <img th:unless="${recipe.img == 'profili'}" th:src="'/images/recipe/profili/' + ${recipe.img}" class="img-fluid rounded mx-auto d-block mt-4" alt="Immagine della ricetta">

            <!-- Elenco degli ingredienti -->
            <p class="mt-4"><strong>Ingredienti:</strong></p>
            <div class="table-responsive">
              <table class="table table-striped mt-2">
                <tbody>
                <tr th:each="ingredient : ${recipe.ingredients}">
                  <td><strong th:text="${ingredient.quantity}"></strong></td>
                  <td><span th:text="${ingredient.name}"></span></td>
                </tr>
                </tbody>
              </table>
            </div>


            <p class="mt-4"><strong>Procedimento:</strong></p>
            <p th:text="${recipe.procedure}" class="procedure-text mt-3"></p>


          </div>
        </div>
      </div>

      <div class="container mt-4">
        <div class="food-section mb-4"> </div>
      </div>

</body>
</html>
